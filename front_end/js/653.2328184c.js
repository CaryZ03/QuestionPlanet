"use strict";(self["webpackChunkquestion_planet"]=self["webpackChunkquestion_planet"]||[]).push([[653],{5653:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var r=function(){var e=this,s=e._self._c;return s("div",[s("LoginAndRegister")],1)},a=[],i=function(){var e=this,s=e._self._c;return s("div",{staticClass:"wrapper"},[e._m(0),s("div",{staticClass:"form-box login"},[s("h2",{staticStyle:{color:"aliceblue"}},[e._v("Login")]),s("form",{on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"input-box"},[e._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",required:""},domProps:{value:e.user.username},on:{input:function(s){s.target.composing||e.$set(e.user,"username",s.target.value)}}}),s("label",{staticStyle:{color:"aliceblue"}},[e._v("Email")])]),s("div",{staticClass:"input-box"},[e._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",required:""},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}}),s("label",{staticStyle:{color:"aliceblue"}},[e._v("password")])]),s("div",{staticClass:"remember-forgot"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isRemember,expression:"isRemember"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isRemember)?e._i(e.isRemember,null)>-1:e.isRemember},on:{change:function(s){var t=e.isRemember,r=s.target,a=!!r.checked;if(Array.isArray(t)){var i=null,o=e._i(t,i);r.checked?o<0&&(e.isRemember=t.concat([i])):o>-1&&(e.isRemember=t.slice(0,o).concat(t.slice(o+1)))}else e.isRemember=a}}}),e._v("Remember Me")]),s("a",{staticStyle:{color:"aliceblue"},attrs:{href:""}},[e._v("Forgot Password")])]),s("button",{staticClass:"btn",on:{click:e.login}},[e._v("Login")]),s("button",{staticClass:"btn",on:{click:e.test}},[e._v("test")]),e._m(3)])]),s("div",{staticClass:"form-box register"},[s("h2",{staticStyle:{color:"aliceblue"}},[e._v("Registeration ")]),s("form",{on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"input-box"},[e._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userR.username,expression:"userR.username"}],attrs:{type:"text",required:""},domProps:{value:e.userR.username},on:{input:function(s){s.target.composing||e.$set(e.userR,"username",s.target.value)}}}),s("label",{staticStyle:{color:"aliceblue"}},[e._v("Username")])]),s("div",{staticClass:"input-box"},[e._m(5),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userR.password1,expression:"userR.password1"}],attrs:{type:"password",required:""},domProps:{value:e.userR.password1},on:{input:function(s){s.target.composing||e.$set(e.userR,"password1",s.target.value)}}}),s("label",{staticStyle:{color:"aliceblue"}},[e._v("password1")])]),s("div",{staticClass:"input-box"},[e._m(6),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userR.password2,expression:"userR.password2"}],attrs:{type:"password",required:""},domProps:{value:e.userR.password2},on:{input:function(s){s.target.composing||e.$set(e.userR,"password2",s.target.value)}}}),s("label",{staticStyle:{color:"aliceblue"}},[e._v("password2")])]),s("div",{staticClass:"remember-forgot"},[s("label",{staticStyle:{color:"aliceblue"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isAgree,expression:"isAgree"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAgree)?e._i(e.isAgree,null)>-1:e.isAgree},on:{change:function(s){var t=e.isAgree,r=s.target,a=!!r.checked;if(Array.isArray(t)){var i=null,o=e._i(t,i);r.checked?o<0&&(e.isAgree=t.concat([i])):o>-1&&(e.isAgree=t.slice(0,o).concat(t.slice(o+1)))}else e.isAgree=a}}}),e._v("agree to the terms & conditions")])]),s("button",{staticClass:"btn",on:{click:e.register}},[e._v("Register")]),e._m(7)])])])},o=[function(){var e=this,s=e._self._c;return s("span",{staticClass:"icon-close"},[s("i",{staticClass:"el-icon-edit"})])},function(){var e=this,s=e._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"el-icon-edit"})])},function(){var e=this,s=e._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"el-icon-edit"})])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"login-register"},[s("p",{staticStyle:{color:"aliceblue"}},[e._v("Don't have an account?"),s("a",{staticClass:"register-link",staticStyle:{color:"aliceblue"},attrs:{href:"#"}},[e._v("Register")])])])},function(){var e=this,s=e._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"el-icon-edit"})])},function(){var e=this,s=e._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"el-icon-edit"})])},function(){var e=this,s=e._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"el-icon-edit"})])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"login-register"},[s("p",[e._v("Already have an account?"),s("a",{staticClass:"login-link",attrs:{href:"#"}},[e._v("Login")])])])}],n=(t(7658),t(5114)),l=(t(7421),{data(){return{user:{username:"",password:""},userR:{username:"",password1:"",password2:""},isAgree:!1,isRemember:!1}},methods:{login(){const e=JSON.stringify(this.user);console.log(e),this.$api.userInfo.postUserInfo_UserLogin(e).then((e=>{0===e.data["errno"]?(n.Message.success("登录成功"),console.log(e.data),this.$store.state.token_key=e.data["token_key"],console.log(e.data.token_key),console.log(e.data),console.log(e.data.uid),this.$store.state.curUserID=e.data["uid"],this.$store.state.curUsername=this.user.username,this.$store.state.isLogin=!0,console.log(`/manage/${this.$store.state.curUserID}`),this.$router.push({path:`/manage/${this.$store.state.curUserID}`})):(n.Message.error(e.data.msg),console.log(e.data),console.log("发生了奇怪的问题"))})).catch((e=>{n.Message.error("登录失败"),console.log(e)}))},test(){this.$router.push({path:"/manage/"+this.$store.state.curUserID})},register(){if(console.log("isagree:"+this.isAgree),!1===this.isAgree)n.Message.warning("请勾选用户协议");else{console.log("????????:");const e=JSON.stringify(this.userR);console.log(e),this.$api.userInfo.postUserInfo_Register(e).then((e=>{if(console.log(e.data),0==e.data.errno){n.Message.success("注册成功");const e=document.querySelector(".wrapper");e.classList.remove("active")}else console.log(e.data),1014==e.data.errno?n.Message.error("密码必须含有数字和字母，且为6~20位"):n.Message.error(e.data.msg)})).catch((e=>{n.Message.error("注册失败"),console.log(e)}))}}},mounted(){const e=document.querySelector(".wrapper"),s=document.querySelector(".login-link"),t=document.querySelector(".register-link");console.log(e);const r=document.querySelector(".btnLogin-popup"),a=document.querySelector(".icon-close");null!=e&&e.classList.add("active-popup"),this.$nextTick((()=>{null!=e&&null!=t&&t.addEventListener("click",(()=>{e.classList.add("active")})),null!=e&&null!=s&&s.addEventListener("click",(()=>{e.classList.remove("active")})),null!=e&&null!=r&&r.addEventListener("click",(()=>{e.classList.add("active-popup")})),null!=e&&null!=a&&a.addEventListener("click",(()=>{e.classList.remove("active-popup")}))}))}}),c=l,u=t(1001),d=(0,u.Z)(c,i,o,!1,null,"6963df13",null),m=d.exports,p={data(){return{}},methods:{},components:{LoginAndRegister:m}},g=p,v=(0,u.Z)(g,r,a,!1,null,"199d4d42",null),h=v.exports}}]);
//# sourceMappingURL=653.2328184c.js.map