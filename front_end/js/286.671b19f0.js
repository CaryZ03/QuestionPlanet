"use strict";(self["webpackChunkquestion_planet"]=self["webpackChunkquestion_planet"]||[]).push([[286],{5286:function(t,e,i){i.r(e),i.d(e,{default:function(){return _}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("el-collapse",{staticClass:"col-md-3 d-none d-lg-block bg-light sidebar",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{staticClass:"tool",attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-circle-check"}),t._v("单选题 ")]),e("div",{staticClass:"tool-body"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"问卷中用户只能选中一个选项作为答案。",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",0)}}},[t._v("添加单选题")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"您的性别",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",1)}}},[t._v("性别")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"你玩原神吗",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",2)}}},[t._v("原神")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"婚姻情况",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",3)}}},[t._v("婚姻情况")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"工作状态",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",4)}}},[t._v("工作状态")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"交通工具",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",5)}}},[t._v("交通工具")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"电影",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",6)}}},[t._v("电影")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"运动",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",7)}}},[t._v("运动")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"使用手机时长",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("single",8)}}},[t._v("使用手机时长")])],1)],1)],2),e("el-collapse-item",{staticClass:"tool mb-2",attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-circle-check"}),e("i",{staticClass:"el-icon-circle-check"}),t._v("多选题 ")]),e("div",{staticClass:"tool-body"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"问卷中用户可以选中多个选项作为答案",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("multiple",0)}}},[t._v("添加多选题")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"喜欢的原神角色",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("multiple",1)}}},[t._v("原神角色")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"运动",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("multiple",2)}}},[t._v("运动")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"网站",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("multiple",3)}}},[t._v("网站")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"音乐",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("multiple",4)}}},[t._v("音乐")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"交通工具",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("multiple",5)}}},[t._v("交通工具")])],1)],1)],2),e("el-collapse-item",{staticClass:"tool mb-2",attrs:{name:"3"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-edit-outline"}),t._v("填空题 ")]),e("div",{staticClass:"tool-body"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"问卷中用户需要输入文本信息作为答案",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("text",0)}}},[t._v("添加填空题")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"姓名",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("text",1)}}},[t._v("姓名")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"学号",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("text",2)}}},[t._v("学号")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"原神UID",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("text",3)}}},[t._v("原神UID")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"家庭住址",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("text",4)}}},[t._v("家庭住址")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"手机号",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("text",5)}}},[t._v("手机号")])],1)],1)],2),e("el-collapse-item",{staticClass:"tool mb-2",attrs:{name:"4"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-star-off"}),t._v("评分题 ")]),e("div",{staticClass:"tool-body"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"问卷中用户需要对某个问题进行打分。",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("grade",0)}}},[t._v("添加评分题")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"你对原神的喜爱程度",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("grade",1)}}},[t._v("模板1")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"你对xxx老师的评价",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("grade",2)}}},[t._v("模板2")])],1)],1)],2),e("el-collapse-item",{staticClass:"tool mb-2",attrs:{name:"5"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-s-data"}),t._v("判断题 ")]),e("div",{staticClass:"tool-body"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"问卷中用户需要将一组选项按照自己的喜好进行排序。",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("judge",0)}}},[t._v("添加判断题")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"原神是世界第一吗",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("judge",1)}}},[t._v("模板1")])],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"你是否会向你的朋友推荐本产品",placement:"bottom"}},[e("el-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",round:""},on:{click:function(e){return t.addQuestion("judge",2)}}},[t._v("模板2")])],1)],1)],2)],1),e("div",{staticClass:"question-card",attrs:{id:"question-list"}},[e("el-container",{staticClass:"card mb-2",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[e("el-main",[e("span",{staticClass:"red_star"},[t._v("* ")]),e("span",{staticClass:"title"},[t._v("问卷标题")]),e("el-input",{attrs:{placeholder:"请输入问卷标题",clearable:""},model:{value:t.qn_title,callback:function(e){t.qn_title=e},expression:"qn_title"}})],1)],1),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),e("el-container",{staticClass:"card mb-2",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[e("el-main",[e("span",{staticClass:"title"},[t._v("问卷描述")]),e("el-input",{attrs:{placeholder:"请输入问卷描述",clearable:""},model:{value:t.qn_description,callback:function(e){t.qn_description=e},expression:"qn_description"}})],1)],1),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),e("el-container",{staticClass:"card mb-2",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[e("el-main",[e("span",{staticClass:"red_star"},[t._v("* ")]),e("span",{staticClass:"title"},[t._v("问卷类型")]),e("br"),e("el-select",{attrs:{placeholder:"请选择"},on:{change:t.updateQnType},model:{value:t.qn_type,callback:function(e){t.qn_type=e},expression:"qn_type"}},t._l(t.qn_type_options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),e("el-container",{staticClass:"card mb-2",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[e("el-main",[e("span",{staticClass:"red_star"},[t._v("* ")]),e("span",{staticClass:"title"},[t._v("问卷截止填写时间")]),e("br"),e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.qn_end_time,callback:function(e){t.qn_end_time=e},expression:"qn_end_time"}}),e("el-time-picker",{attrs:{placeholder:"任意时间点"},model:{value:t.qn_end_time,callback:function(e){t.qn_end_time=e},expression:"qn_end_time"}})],1)],1),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),t._l(t.questions,(function(i,s){return e("div",{key:s,staticClass:"card mb-2",attrs:{id:s}},[e("el-container",{staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[i.isEdit?e("el-main",[t.qn_is_normal||t.qn_is_test?e("div",[i.q_mandatory?e("span",{staticClass:"red_star"},[t._v("* ")]):e("span",{staticClass:"red_star"}),"single"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".单选题")]):t._e(),"multiple"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".多选题")]):t._e(),"text"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".填空题")]):t._e(),"judge"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".判断题")]):t._e(),"grade"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".打分题")]):t._e()]):t.qn_is_vote?e("div",[e("span",{staticStyle:{color:"#F3F2F2"}},[t._v("投票")])]):t.qn_is_application?e("div",[e("span",{staticStyle:{color:"#F3F2F2"}},[t._v("报名")])]):t._e(),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),e("div",{staticClass:"title"},[t._v("标题")]),e("el-input",{attrs:{placeholder:"请输入标题",clearable:""},model:{value:i.q_title,callback:function(e){t.$set(i,"q_title",e)},expression:"question.q_title"}}),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),e("div",{staticClass:"title"},[t._v("问题描述")]),e("el-input",{attrs:{placeholder:"请输入问题描述",clearable:""},model:{value:i.q_description,callback:function(e){t.$set(i,"q_description",e)},expression:"question.q_description"}}),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),"single"===i.q_type||"multiple"===i.q_type?e("div",[t.qn_is_application?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title"},[t._v("选项&报名个数")])]),t._l(i.q_options,(function(i,n){return e("div",{key:n,staticClass:"single_choice_ques"},[e("el-row",[e("el-col",{attrs:{span:3}},[e("div",[e("el-button",{attrs:{type:"danger",icon:"el-icon-minus",circle:"",size:"small"},on:{click:function(e){return t.deleteNode(s,n)}}})],1)]),e("el-col",{attrs:{span:14}},[e("div",[e("el-input",{attrs:{placeholder:"请输入题目内容",clearable:""},model:{value:i.label,callback:function(e){t.$set(i,"label",e)},expression:"item.label"}})],1)]),e("el-col",{attrs:{span:1}},[t._v("   ")]),e("el-col",{attrs:{span:6}},[e("div",[e("el-input",{attrs:{placeholder:"请输入报名个数",clearable:"",type:"number"},model:{value:i.num,callback:function(e){t.$set(i,"num",t._n(e))},expression:"item.num"}})],1)])],1)],1)}))],2):e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title"},[t._v("选项")])]),t._l(i.q_options,(function(i,n){return e("div",{key:n,staticClass:"single_choice_ques"},[e("el-row",[e("el-col",{attrs:{span:3}},[e("div",[e("el-button",{attrs:{type:"danger",icon:"el-icon-minus",circle:"",size:"small"},on:{click:function(e){return t.deleteNode(s,n)}}})],1)]),e("el-col",{attrs:{span:21}},[e("div",[e("el-input",{attrs:{placeholder:"请输入题目内容",clearable:""},model:{value:i.label,callback:function(e){t.$set(i,"label",e)},expression:"item.label"}})],1)])],1)],1)}))],2),e("el-row",[e("el-col",{attrs:{span:3}},[e("div",[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:"",size:"small"},on:{click:function(e){return t.addNode(s)}}})],1)]),e("el-col",{attrs:{span:21}},[e("div",{staticStyle:{"line-height":"200%",color:"#0099ff"}},[t._v("添加选项")])])],1)],1):"text"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title"},[t._v("内容")])]),e("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}})],1):"judge"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title"},[t._v("选项")])]),e("el-radio-group",{model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}},[e("el-radio",{staticStyle:{color:"#F3F2F2"},attrs:{label:0}},[t._v("错误")]),e("el-radio",{staticStyle:{color:"#F3F2F2"},attrs:{label:1}},[t._v("正确")])],1)],1):"grade"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title"},[t._v("评分")])]),e("el-rate",{attrs:{colors:t.grade_colors},model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}})],1):t._e(),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),!t.qn_is_test||"single"!==i.q_type&&"multiple"!==i.q_type?t._e():e("div",[e("span",{staticClass:"red_star"},[t._v("* ")]),e("span",{staticClass:"title"},[t._v("正确答案")]),e("span",{staticClass:"title"},[t._v("[答案应由诸如0,1,2,3的选项以及英文逗号组成]")]),e("el-input",{attrs:{placeholder:"请输入正确答案",clearable:""},model:{value:i.q_correct_answer,callback:function(e){t.$set(i,"q_correct_answer",e)},expression:"question.q_correct_answer"}})],1),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),e("div",{staticClass:"division"},[e("span",{staticClass:"title"},[t._v("设置")])]),e("el-row",[e("el-col",{attrs:{span:21}},[e("div",{staticStyle:{"line-height":"200%",color:"#F3F2F2"}},[t._v("此题目必须回答")])]),e("el-col",{attrs:{span:3}},[e("el-switch",{attrs:{"active-color":"#0099ff","inactive-color":"#c2bdbd"},model:{value:i.q_mandatory,callback:function(e){t.$set(i,"q_mandatory",e)},expression:"question.q_mandatory"}})],1)],1)],1):e("el-main",[t.qn_is_normal||t.qn_is_test?e("div",[i.q_mandatory?e("span",{staticClass:"red_star"},[t._v("* ")]):e("span",{staticClass:"red_star"}),"single"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".单选题")]):t._e(),"multiple"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".多选题")]):t._e(),"text"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".填空题")]):t._e(),"judge"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".判断题")]):t._e(),"grade"===i.q_type?e("span",{staticStyle:{color:"#F3F2F2"}},[t._v(t._s(s+1)+".打分题")]):t._e()]):t.qn_is_vote?e("div",[e("span",{staticStyle:{color:"#F3F2F2"}},[t._v("投票")])]):t.qn_is_application?e("div",[e("span",{staticStyle:{color:"#F3F2F2"}},[t._v("报名")])]):t._e(),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),e("div",{staticStyle:{color:"#F3F2F2"}},[t._v("题目："+t._s(i.q_title))]),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),e("div",{staticStyle:{color:"#F3F2F2"}},[t._v("问题描述："+t._s(i.q_description))]),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")]),t.qn_is_application?e("div",["single"===i.q_type||"multiple"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title"},[t._v("选项")])]),"single"===i.q_type?e("div",[e("el-radio-group",{model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}},t._l(i.q_options,(function(i,s){return e("el-radio",{key:s,staticStyle:{color:"#F3F2F2"},attrs:{label:s,disabled:i.disabled}},[t._v(t._s(i.label)+"    剩余人数："+t._s(i.num))])})),1)],1):t._e(),"multiple"===i.q_type?e("div",t._l(i.q_options,(function(i,s){return e("div",{key:s},[e("el-checkbox",{staticStyle:{color:"#F3F2F2"},attrs:{label:s},model:{value:i.checked,callback:function(e){t.$set(i,"checked",e)},expression:"option.checked"}},[t._v(t._s(i.label)+"   剩余人数："+t._s(i.num))])],1)})),0):t._e()]):"text"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title",staticStyle:{color:"#F3F2F2"}},[t._v("内容")])]),e("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}})],1):"judge"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title",staticStyle:{color:"#F3F2F2"}},[t._v("选项")])]),e("el-radio-group",{model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}},[e("el-radio",{staticStyle:{color:"#F3F2F2"},attrs:{label:0}},[t._v("错误")]),e("el-radio",{staticStyle:{color:"#F3F2F2"},attrs:{label:1}},[t._v("正确")])],1)],1):"grade"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title",staticStyle:{color:"#F3F2F2"}},[t._v("评分")])]),e("el-rate",{attrs:{colors:t.grade_colors},model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}})],1):t._e()]):e("div",["single"===i.q_type||"multiple"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title"},[t._v("选项")])]),"single"===i.q_type?e("div",[e("el-radio-group",{model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}},t._l(i.q_options,(function(i,s){return e("el-radio",{key:s,staticStyle:{color:"#F3F2F2"},attrs:{label:s}},[t._v(t._s(i.label))])})),1)],1):t._e(),"multiple"===i.q_type?e("div",t._l(i.q_options,(function(i,s){return e("div",{key:s},[e("el-checkbox",{staticStyle:{color:"#F3F2F2"},attrs:{label:s},model:{value:i.checked,callback:function(e){t.$set(i,"checked",e)},expression:"option.checked"}},[t._v(t._s(i.label))])],1)})),0):t._e()]):"text"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title",staticStyle:{color:"#F3F2F2"}},[t._v("内容")])]),e("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}})],1):"judge"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title",staticStyle:{color:"#F3F2F2"}},[t._v("选项")])]),e("el-radio-group",{model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}},[e("el-radio",{staticStyle:{color:"#F3F2F2"},attrs:{label:0}},[t._v("错误")]),e("el-radio",{staticStyle:{color:"#F3F2F2"},attrs:{label:1}},[t._v("正确")])],1)],1):"grade"===i.q_type?e("div",[e("div",{staticClass:"division"},[e("span",{staticClass:"title",staticStyle:{color:"#F3F2F2"}},[t._v("评分")])]),e("el-rate",{attrs:{colors:t.grade_colors},model:{value:i.a_content,callback:function(e){t.$set(i,"a_content",e)},expression:"question.a_content"}})],1):t._e()])]),e("el-footer",[i.isEdit?e("el-button",{attrs:{icon:"el-icon-folder-checked",circle:""},on:{click:function(e){return t.change_to_save_mode(s)}}}):e("el-button",{attrs:{icon:"el-icon-edit",circle:""},on:{click:function(e){return t.change_to_edit_mode(s)}}}),t._v("      "),e("el-button",{attrs:{icon:"el-icon-document-copy",circle:""},on:{click:function(e){return t.dup_question(s)}}}),t._v("      "),e("el-button",{attrs:{icon:"el-icon-delete",circle:""},on:{click:function(e){return t.removeQuestion(s)}}}),t._v("      "),e("el-button",{attrs:{icon:"el-icon-top",circle:""},on:{click:function(e){return t.upNode(s)}}}),t._v("      "),e("el-button",{attrs:{icon:"el-icon-bottom",circle:""},on:{click:function(e){return t.downNode(s)}}})],1)],1),e("div",{staticStyle:{"line-height":"30px"}},[t._v(" ")])],1)})),e("el-button",{staticStyle:{margin:"0 0 0 214px"},attrs:{type:"success",round:""},on:{click:function(e){return t.save_questionnaire()}}},[t._v("保存问卷")]),e("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.submit_questionnaire()}}},[t._v("提交问卷")])],2),e("div",{staticClass:"outline-area"},[e("div",{staticClass:"outline-title"},[t._v("问卷大纲")]),e("div",{staticClass:"outline-list"},t._l(t.questions,(function(i,s){return e("el-link",{key:s,staticClass:"outline-item",on:{click:function(e){return e.preventDefault(),t.scrollToQuestion(i,s)}}},[t._v(t._s(s+1)+"."+t._s(i.q_title))])})),1)]),e("router-view")],1)},n=[],l=(i(7658),i(5114)),a={name:"createQuestionnaire",data(){return{uid:this.$store.state.curUserID,qn_id:"",qn_title:"",qn_type:"normal",qn_type_options:[{value:"normal",label:"普通问卷"},{value:"test",label:"考试问卷"},{value:"vote",label:"投票问卷"},{value:"application",label:"报名问卷"}],qn_description:"",qn_end_time:null,qn_refillable:!0,questions:[],activeNames:["1","2","3","4","5","6","7"],grade_colors:["#99A9BF","#F7BA2A","#FF9900"],qn_is_normal:!1,qn_is_test:!1,qn_is_vote:!1,qn_is_application:!0}},beforeRouteLeave(t,e,i){this.$store.state.isAnalyzing=!1,this.$store.state.is_creating=!1,i()},created(){this.qn_id=this.$route.params.qn_id,this.load_qn()},methods:{change_to_qn_normal(){this.qn_is_normal=!0,this.qn_is_test=!1,this.qn_is_vote=!1,this.qn_is_application=!1},change_to_qn_test(){this.qn_is_normal=!1,this.qn_is_test=!0,this.qn_is_vote=!1,this.qn_is_application=!1},change_to_qn_vote(){this.qn_is_normal=!1,this.qn_is_test=!1,this.qn_is_vote=!0,this.qn_is_application=!1},change_to_qn_application(){this.qn_is_normal=!1,this.qn_is_test=!1,this.qn_is_vote=!1,this.qn_is_application=!0},load_qn(){var t=this;this.$api.questionnaire.getQuestionnaire_Check(this.$route.params.qn_id).then((function(e){console.log(e),console.log(e.data.qn_info),console.log(e.data.question_list);const i=JSON.parse(e.data.qn_info),s=e.data.question_list;console.log(i),t.qn_title=i.qn_title,t.qn_end_time=i.qn_end_time,t.qn_type=i.qn_type,"normal"===t.qn_type?t.change_to_qn_normal():"test"===t.qn_type&&t.change_to_qn_test(),"vote"===t.qn_type&&t.change_to_qn_vote(),"application"===t.qn_type&&t.change_to_qn_application(),t.qn_description=i.qn_description,t.qn_refillable=i.qn_refillable,s.forEach((e=>{const i=JSON.parse(e);i.q_options=JSON.parse(i.q_options),i.isEdit=!0,t.questions.push(i)}))})).catch((function(t){console.log(t)})),console.log(this.qn_id)},addQuestion(t,e){if("vote"===this.qn_type)return void this.$message({message:"警告哦，在投票问卷下无法自由添加题目",type:"warning"});if("application"===this.qn_type)return void this.$message({message:"警告哦，在报名问卷下无法自由添加题目",type:"warning"});let i={q_type:t,isEdit:!0,q_mandatory:!0,q_title:"标题",q_options:[],q_description:"",a_content:"",q_correct_answer:"",q_score:0};"single"===t?0==e?i.q_options=[{label:"选项1",checked:!1,num:0},{label:"选项2",checked:!1,num:0}]:1==e?(i.q_title="您的性别",i.q_options=[{label:"男",checked:!1,num:0},{label:"女",checked:!1,num:0}]):2==e?(i.q_title="你玩原神吗",i.q_options=[{label:"原神，启动！",checked:!1,num:0},{label:"不玩",checked:!1,num:0}]):3==e?(i.q_title="婚姻状况",i.q_options=[{label:"未婚",checked:!1,num:0},{label:"已婚",checked:!1,num:0},{label:"离异",checked:!1,num:0}]):4==e?(i.q_title="您的工作状态",i.q_options=[{label:"在职",checked:!1,num:0},{label:"待业",checked:!1,num:0},{label:"自由职业",checked:!1,num:0},{label:"退休",checked:!1,num:0}]):5==e?(i.q_title="你平时使用的交通工具",i.q_options=[{label:"公共交通",checked:!1,num:0},{label:"私家车",checked:!1,num:0},{label:"共享单车",checked:!1,num:0},{label:"步行/自行车",checked:!1,num:0}]):6==e?(i.q_title="你平时喜欢看什么类型的电影",i.q_options=[{label:"动作片",checked:!1,num:0},{label:"喜剧片",checked:!1,num:0},{label:"科幻片",checked:!1,num:0},{label:"爱情片",checked:!1,num:0},{label:"恐怖片",checked:!1,num:0},{label:"纪录片",checked:!1,num:0},{label:"其他",checked:!1,num:0}]):7==e?(i.q_title="你最喜欢的运动类型是",i.q_options=[{label:"足球",checked:!1,num:0},{label:"篮球",checked:!1,num:0},{label:"羽毛球",checked:!1,num:0},{label:"跑步",checked:!1,num:0},{label:"游泳",checked:!1,num:0},{label:"健身",checked:!1,num:0},{label:"其他",checked:!1,num:0}]):8==e&&(i.q_title="你每天会花多长时间看手机",i.q_options=[{label:"不到1小时",checked:!1,num:0},{label:"1-2小时",checked:!1,num:0},{label:"2-3小时",checked:!1,num:0},{label:"3小时以上",checked:!1,num:0}]):"multiple"===t?0==e?i.q_options=[{label:"选项1",checked:!1,num:0},{label:"选项2",checked:!1,num:0}]:1==e?(i.q_title="你喜欢的原神角色",i.q_options=[{label:"神里绫华",checked:!1,num:0},{label:"胡桃",checked:!1,num:0},{label:"琴",checked:!1,num:0},{label:"七七",checked:!1,num:0},{label:"迪卢克",checked:!1,num:0},{label:"可莉",checked:!1,num:0},{label:"宵宫",checked:!1,num:0},{label:"其他",checked:!1,num:0}]):2==e?(i.q_title="你平时喜欢做哪些运动",i.q_options=[{label:"跑步",checked:!1,num:0},{label:"游泳",checked:!1,num:0},{label:"打羽毛球",checked:!1,num:0},{label:"健身",checked:!1,num:0},{label:"骑自行车",checked:!1,num:0},{label:"其他",checked:!1,num:0}]):3==e?(i.q_title="请选择你经常去的网站",i.q_options=[{label:"新闻",checked:!1,num:0},{label:"社交媒体",checked:!1,num:0},{label:"购物",checked:!1,num:0},{label:"视频流媒体",checked:!1,num:0},{label:"游戏",checked:!1,num:0},{label:"其他",checked:!1,num:0}]):4==e?(i.q_title="你喜欢的音乐类型",i.q_options=[{label:"流行",checked:!1,num:0},{label:"摇滚",checked:!1,num:0},{label:"电子",checked:!1,num:0},{label:"古典",checked:!1,num:0},{label:"嘻哈",checked:!1,num:0},{label:"其他",checked:!1,num:0}]):5==e&&(i.q_title="你平时使用的交通工具",i.q_options=[{label:"公共交通",checked:!1,num:0},{label:"私家车",checked:!1,num:0},{label:"共享单车",checked:!1,num:0},{label:"步行/自行车",checked:!1,num:0}]):"text"===t?1==e?i.q_title="你的姓名是？":2==e?i.q_title="你的学号是？":3==e?i.q_title="你的原神UID是？":4==e?i.q_title="你的家庭地址是？":5==e&&(i.q_title="你的手机号是？"):"grade"===t?1==e?i.q_title="你对原神的喜爱程度":2==e&&(i.q_title="你对xxx老师的评价"):"judge"===t&&(1==e?i.q_title="原神是世界第一吗":2==e&&(i.q_title="你是否会向你的朋友推荐本产品")),i.id="question-"+(this.questions.length+1),this.questions.push(i)},save_handler(){const t=this.questions.map((t=>({q_type:t.q_type,q_mandatory:t.q_mandatory,q_title:t.q_title,q_description:t.q_description,q_option_count:t.q_options.length,q_options:t.q_options,q_correct_answer:t.q_correct_answer,q_score:t.q_score}))),e=this.qn_end_time,i=new Date(e),s={year:"numeric",month:"2-digit",day:"2-digit"},n=i.toLocaleDateString("en-US",s).replace(/\//g,"-"),l=i.toLocaleTimeString("en-US",{hour12:!1}),[a,o,c]=n.split("-"),r=`${c}-${a}-${o} ${l}`;console.log(r);const _={uid:this.$store.curUserID,qn_id:this.qn_id,qn_title:this.qn_title,qn_description:this.qn_description,qn_type:this.qn_type,qn_end_time:r,qn_refillable:this.qn_refillable,question_list:t},p=JSON.stringify(_);console.log(p),this.$api.questionnaire.postQuestionnaire_Save(p).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},save_questionnaire(){null!=this.qn_title?(console.log("Time is:"+this.qn_end_time),"None"!==this.qn_end_time?(this.save_handler(),this.$alert("问卷保存成功！","保存问卷",{confirmButtonText:"确定"})):l.Message.warning("请填写截止时间")):l.Message.warning("请填写标题")},submit_questionnaire(){try{if(null===this.qn_title||void 0===this.qn_title||""===this.qn_title)throw new Error("请注意，您的问卷题目未填写");if(null===this.qn_type||void 0===this.qn_type||""===this.qn_type)throw new Error("请注意，您的问卷类型未选择");if(null===this.qn_end_time||void 0===this.qn_end_time||""===this.qn_end_time)throw new Error("请注意，您的问卷截止时间未选择")}catch(t){return void this.$message({type:"error",message:t.message})}this.$confirm("是否提交问卷?","提交问卷",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"提交成功!"}),this.save_handler(),this.$router.push({path:"/manage/"+this.$store.state.curUserID})})).catch((()=>{this.$message({type:"info",message:"已取消提交"})}))},addNode(t){this.qn_is_application?this.questions[t].q_options.push({label:"选项",checked:!1,num:0,disabled:!1}):this.questions[t].q_options.push({label:"选项",checked:!1,num:0})},deleteNode(t,e){this.questions[t].q_options.splice(e,1)},dup_question(t){if("vote"===this.qn_type)return void this.$message({message:"警告哦，在投票问卷下无法自由复制题目",type:"warning"});if("application"===this.qn_type)return void this.$message({message:"警告哦，在报名问卷下无法自由复制题目",type:"warning"});let e={q_type:this.questions[t].q_type,isEdit:!0,q_mandatory:this.questions[t].q_mandatory,q_title:this.questions[t].q_title,q_options:this.questions[t].q_options,q_description:this.questions[t].q_description,a_content:this.questions[t].a_content,q_correct_answer:this.questions[t].q_correct_answer,q_score:this.questions[t].q_score};console.log(e),this.questions.splice(t,0,e)},upNode(t){"vote"!==this.qn_type?"application"!==this.qn_type?t<=0||([this.questions[t-1],this.questions[t]]=[this.questions[t],this.questions[t-1]],this.$forceUpdate()):this.$message({message:"警告哦，在报名问卷下无法上移题目",type:"warning"}):this.$message({message:"警告哦，在投票问卷下无法上移题目",type:"warning"})},downNode(t){"vote"!==this.qn_type?"application"!==this.qn_type?t>=this.questions.length-1||([this.questions[t+1],this.questions[t]]=[this.questions[t],this.questions[t+1]],this.$forceUpdate()):this.$message({message:"警告哦，在报名问卷下无法下移题目",type:"warning"}):this.$message({message:"警告哦，在投票问卷下无法下移题目",type:"warning"})},change_to_save_mode(t){this.questions[t].isEdit=!1},change_to_edit_mode(t){this.questions[t].isEdit=!0},removeQuestion(t){"vote"!==this.qn_type?"application"!==this.qn_type?this.questions.splice(t,1):this.$message({message:"警告哦，在报名问卷下无法自由删除题目",type:"warning"}):this.$message({message:"警告哦，在投票问卷下无法自由删除题目",type:"warning"})},updateQnType(){if(console.log("当前选择的题目类型是： ",this.qn_type),"vote"===this.qn_type){this.change_to_qn_vote(),this.questions.splice(0,this.questions.length);let t={q_type:"single",isEdit:!0,q_mandatory:!0,q_title:"",q_options:[],q_description:"",a_content:"",q_correct_answer:"",q_score:0};t.q_options=[{label:"选项1",checked:!1,num:0},{label:"选项2",checked:!1,num:0}],t.id="question-"+(this.questions.length+1),this.questions.push(t)}else if("application"===this.qn_type){this.change_to_qn_application(),this.questions.splice(0,this.questions.length);let t={q_type:"text",isEdit:!0,q_mandatory:!0,q_title:"个人信息",q_options:[],q_description:"",a_content:"",q_correct_answer:"",q_score:0};t.id="question-"+(this.questions.length+1),this.questions.push(t);let e={q_type:"single",isEdit:!0,q_mandatory:!0,q_title:"",q_options:[],q_description:"",a_content:"",q_correct_answer:"",q_score:0};e.q_options=[{label:"选项1",checked:!1,num:0,disabled:!1},{label:"选项2",checked:!1,num:0,disabled:!1}],e.id="question-"+(this.questions.length+1),this.questions.push(e)}else"normal"===this.qn_type?this.change_to_qn_normal():"test"===this.qn_type&&this.change_to_qn_test()},scrollToQuestion(t,e){this.$nextTick((()=>{console.log(e);const t=document.getElementById(e);console.log(t),t&&t.scrollIntoView({behavior:"smooth"})}))}}},o=a,c=i(1001),r=(0,c.Z)(o,s,n,!1,null,"5602949e",null),_=r.exports}}]);
//# sourceMappingURL=286.671b19f0.js.map