"use strict";(self["webpackChunkquestion_planet"]=self["webpackChunkquestion_planet"]||[]).push([[888],{5888:function(t,s,e){e.r(s),e.d(s,{default:function(){return _}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"background"},[s("div",{staticClass:"css_pro-edited-element-0 inherited-styles-for-exported-element"},[s("div",{staticClass:"user-info hvr-grow-shadow",attrs:{id:"content"}},[s("div",{staticClass:"avatar-wrapper"},[s("img",{staticStyle:{height:"auto","object-fit":"contain",width:"120px"},attrs:{src:t.avatarUrl,alt:"Avatar"}}),s("input",{attrs:{type:"file"},on:{change:t.handleAvatarUpload}})]),s("div",{staticClass:"user-data"},[s("h2",[t._v(t._s(t.userName))]),s("el-card",{staticClass:"box-card"},[t._v(t._s(t.sign))]),s("el-button",{staticClass:"fr",attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.changeSign}})],1)]),s("div",{staticClass:"title"},[t._v(" 注册信息 ")]),s("div",{staticClass:"content hvr-grow-shadow",staticStyle:{height:"328px"},attrs:{id:"content"}},[s("div",{staticClass:"items"},[s("div",{staticStyle:{float:"left"}},[s("b",[t._v("用户名")]),s("span",{staticStyle:{"margin-right":"10px"},attrs:{id:"ctl00_ContentPlaceHolder1_lblLoginName"}},[t._v(t._s(t.userName))])]),s("div",{staticStyle:{clear:"both"}})]),s("div",{staticClass:"items"},[s("b",[t._v("账号ID")]),s("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblUserId"}},[t._v(t._s(t.userId))])]),s("div",{staticClass:"items",attrs:{id:"ctl00_ContentPlaceHolder1_divEmail"}},[s("b",[t._v("邮件地址")]),0==t.addressIsBind?s("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblEmail"}},[t._v("未设置")]):t._e(),1==t.addressIsBind?s("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblEmail"}},[t._v(t._s(t.address))]):t._e(),s("span",{staticClass:"fr"},[0==t.addressIsBind?s("el-button",{attrs:{type:"text"},on:{click:t.bindAddress}},[t._v("绑定邮箱")]):t._e(),1==t.addressIsBind?s("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblEmail"}},[t._v("已绑定, ")]):t._e(),1==t.addressIsBind?s("el-button",{attrs:{type:"text"},on:{click:t.unbindAddress}},[t._v("解绑")]):t._e(),s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.bindAddress}})],1)]),s("div",{staticClass:"items",attrs:{id:"ctl00_ContentPlaceHolder1_divPhone"}},[s("b",[t._v("手机号码")]),1==t.phoneIsBind?s("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblMobile",title:"设置"}},[t._v(t._s(t.phone))]):t._e(),0==t.phoneIsBind?s("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblMobile",title:"设置"}},[t._v("未绑定")]):t._e(),s("span",{staticClass:"fr"},[0==t.phoneIsBind?s("el-button",{attrs:{type:"text"},on:{click:t.bindPhone}},[t._v("绑定手机号")]):t._e(),1==t.phoneIsBind?s("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblEmail"}},[t._v("已绑定, ")]):t._e(),1==t.phoneIsBind?s("el-button",{attrs:{type:"text"},on:{click:t.unbindPhone}},[t._v("解绑")]):t._e(),s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.bindPhone}})],1)]),s("div",{staticClass:"items",attrs:{id:"ctl00_ContentPlaceHolder1_lkPasswordBox"}},[s("b",[t._v("密码")]),s("el-button",{attrs:{type:"text"},on:{click:t.changePassword}},[t._v("修改密码")])],1),s("div",{staticClass:"items",staticStyle:{"margin-top":"10px"}}),s("div",{staticStyle:{clear:"both"}})])]),s("corperation"),s("div",[s("img",{staticClass:"moon hvr-grow-shadow",staticStyle:{height:"auto","object-fit":"contain",width:"120px"},attrs:{src:e(8327),alt:"Avatar"},on:{click:t.clickfunction}})])],1)},i=[],n=(e(2210),function(){var t=this,s=t._self._c;return s("div",{staticClass:"user-company-box pull-right inherited-styles-for-exported-element",attrs:{id:"ctl00_ContentPlaceHolder1_divCorp"}},[s("div",{staticClass:"title"},[t._v(" 企业信息 ")]),s("div",{staticClass:"content hvr-grow-shadow",staticStyle:{height:"328px"}},[s("div",{staticClass:"items"},[s("b",[t._v("公司名称")]),s("span",{staticStyle:{color:"#262626","line-height":"20px"}},[0==t.isCorpBind?s("el-link",{staticClass:"wjx_alink",attrs:{id:"ctl00_ContentPlaceHolder1_lkEnterpriseName"},on:{click:function(s){return t.bindName()}}},[t._v("请输入")]):t._e(),1==t.isCorpBind?s("el-link",{attrs:{target:"_blank",icon:"el-icon-edit"},on:{click:t.bindName}}):t._e(),1==t.isCorpBind?s("b",{attrs:{id:"inline-text"}},[t._v(t._s(t.corperationName))]):t._e()],1)]),t._m(0),s("div",{staticClass:"items"},[s("b",{staticClass:"vam"},[s("span",{staticClass:"vam"},[t._v("自定义域名")]),s("el-link",{attrs:{href:"https://www.wjx.cn/help/help.aspx?helpid=62&h=1",target:"_blank",icon:"el-icon-question"}})],1),s("el-link",{staticClass:"wjx_alink",attrs:{id:"ctl00_ContentPlaceHolder1_lkEnterpriseName"},on:{click:function(s){return t.open()}}},[t._v("设置域名")])],1),s("img",{staticClass:"man",staticStyle:{height:"auto","object-fit":"contain",width:"120px"},attrs:{src:e(4256),alt:"Avatar"}})])])}),o=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"items clearfix"},[s("b",{staticClass:"fl",staticStyle:{"margin-top":"4px"}},[t._v("企业logo")]),s("a",{staticClass:"icon_vip",attrs:{target:"_blank",href:"https://www.wjx.cn/register/upgradevip.aspx"}})])}],r={data(){return{corperationName:null,isCorpBind:!1}},methods:{bindName(){this.$prompt("请输入企业名","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:t})=>{this.$message({type:"success",message:"你的企业名是: "+t}),this.isCorpBind=!0,this.corperationName=t})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},open(){this.$alert("设置不了一点","Warning",{confirmButtonText:"确定",callback:t=>{this.$message({type:"info",message:"下次再来试试吧"})}})}}},l=r,c=e(1001),d=(0,c.Z)(l,n,o,!1,null,"d1a7a426",null),h=d.exports,p={methods:{clickfunction(){window.open("https://xenonga.github.io/")},uploadData(t){console.log(t),this.$api.userInfo.postUserInfo_ChangeUserInfo(t).then((t=>{console.log(t.data),0==t.data.errno&&console.log("上传用户信息成功")})).catch((t=>{alert("上传用户信息失败"),console.log(t)}))},bindAddress(){this.$prompt("请输入邮箱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then((({value:t})=>{this.$message({type:"success",message:"你的邮箱是: "+t}),this.addressIsBind=!0,this.address=t;const s={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,email:this.address,tel:this.phone};this.uploadData(s)})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},unbindAddress(){this.$confirm("此操作将解绑邮箱, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"解绑成功!"}),this.address=null,this.addressIsBind=!1;const t={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,email:this.address,tel:this.phone};this.uploadData(t)})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},bindPhone(){this.$prompt("请输入手机号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^1[3456789]\d{9}$/,inputErrorMessage:"手机号格式不正确"}).then((({value:t})=>{this.$message({type:"success",message:"你的手机号是: "+t}),this.phoneIsBind=!0,this.phone=t;const s={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,email:this.address,tel:this.phone};this.uploadData(s)})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},unbindPhone(){this.$confirm("此操作将解绑手机号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"解绑成功!"}),this.phone=null,this.phoneIsBind=!1;const t={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,email:this.address,tel:this.phone};this.uploadData(t)})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},changeSign(){this.$prompt("请输入新的签名","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:t})=>{this.$message({type:"success",message:"签名设置成功 "}),this.sign=t})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},handleAvatarUpload(t){},editUserInfo(){},changePassword(){this.$prompt("请输入新密码","修改密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入新密码",inputType:"password"}).then((({value:t})=>{this.$prompt("请再次输入新密码","确定密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请再次输入新密码",inputType:"password",inputValidator:s=>s===t||"两次输入的密码不一致"}).then((({value:t})=>{this.$message({type:"success",message:"密码修改成功"});const s={uid:this.userId,username:this.userName,password1:t,password2:t,email:this.address,tel:this.phone};this.uploadData(s)})).catch((()=>{this.$message({type:"info",message:"取消修改密码"})}))})).catch((()=>{this.$message({type:"info",message:"取消修改密码"})}))}},data(){return{address:null,addressIsBind:!1,phoneIsBind:!1,phone:null,userKey:114514,sign:"还没有签名捏",userName:this.$store.state.curUsername,userId:this.$store.state.curUserID,avatarUrl:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F202005%2F10%2F20200510010150_2zSAt.thumb.1000_0.jpeg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1687439195&t=d763d2921c0bd1ae6f6629ed0afcdd65"}},components:{corperation:h},mounted:function(){const t={uid:this.$store.state.curUserID};this.$api.userInfo.getUserInfo_GetUserInfo(this.$store.state.curUserID).then((s=>{if(console.log(t),console.log(s.data),0==s.data.errno){console.log("获取用户信息成功"),console.log(s.data.user_info);const t=JSON.parse(s.data.user_info);this.userId=t.user_id,this.userName=t.user_name,this.userKey=t.user_password,this.address=t.user_email,this.phone=t.user_tel,null!=this.address&&(this.addressIsBind=!0),null!=this.phone&&(this.phoneIsBind=!0)}})).catch((t=>{alert("获取用户信息失败"),console.log(t)}))}},u=p,m=(0,c.Z)(u,a,i,!1,null,"7015a4df",null),_=m.exports},4256:function(t,s,e){t.exports=e.p+"img/man - 副本.277174a3.png"},8327:function(t,s,e){t.exports=e.p+"img/planet4 - 副本.2e1354a5.png"}}]);
//# sourceMappingURL=888.486bfa3e.js.map