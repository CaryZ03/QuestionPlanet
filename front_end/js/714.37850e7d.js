(self["webpackChunkquestion_planet"]=self["webpackChunkquestion_planet"]||[]).push([[714],{9714:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"background"},[e("div",{staticClass:"css_pro-edited-element-0 inherited-styles-for-exported-element"},[e("div",{staticClass:"user-info hvr-grow-shadow",attrs:{id:"content"}},[e("div",{staticClass:"avatar-wrapper"},[e("img",{staticStyle:{height:"auto","object-fit":"contain",width:"120px"},attrs:{src:t.avatarUrl,alt:"Avatar"}}),e("input",{attrs:{type:"file"},on:{change:t.handleAvatarUpload}})]),e("div",{staticClass:"user-data"},[e("h2",[t._v(t._s(t.userName))]),e("el-card",{staticClass:"box-card"},[t._v(t._s(t.sign))]),e("el-button",{staticClass:"fr",attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.changeSign}})],1)]),e("div",{staticClass:"title"},[t._v(" 注册信息 ")]),e("div",{staticClass:"content hvr-grow-shadow",staticStyle:{height:"328px"},attrs:{id:"content"}},[e("div",{staticClass:"items"},[e("div",{staticStyle:{float:"left"}},[e("b",[t._v("用户名")]),e("span",{staticStyle:{"margin-right":"10px"},attrs:{id:"ctl00_ContentPlaceHolder1_lblLoginName"}},[t._v(t._s(t.userName))])]),e("div",{staticStyle:{clear:"both"}})]),e("div",{staticClass:"items"},[e("b",[t._v("账号ID")]),e("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblUserId"}},[t._v(t._s(t.userId))])]),e("div",{staticClass:"items",attrs:{id:"ctl00_ContentPlaceHolder1_divEmail"}},[e("b",[t._v("邮件地址")]),0==t.addressIsBind?e("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblEmail"}},[t._v("未设置")]):t._e(),1==t.addressIsBind?e("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblEmail"}},[t._v(t._s(t.address))]):t._e(),e("span",{staticClass:"fr"},[0==t.addressIsBind?e("el-button",{attrs:{type:"text"},on:{click:t.bindAddress}},[t._v("绑定邮箱")]):t._e(),1==t.addressIsBind?e("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblEmail"}},[t._v("已绑定, ")]):t._e(),1==t.addressIsBind?e("el-button",{attrs:{type:"text"},on:{click:t.unbindAddress}},[t._v("解绑")]):t._e(),e("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.bindAddress}})],1)]),e("div",{staticClass:"items",attrs:{id:"ctl00_ContentPlaceHolder1_divPhone"}},[e("b",[t._v("手机号码")]),1==t.phoneIsBind?e("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblMobile",title:"设置"}},[t._v(t._s(t.phone))]):t._e(),0==t.phoneIsBind?e("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblMobile",title:"设置"}},[t._v("未绑定")]):t._e(),e("span",{staticClass:"fr"},[0==t.phoneIsBind?e("el-button",{attrs:{type:"text"},on:{click:t.bindPhone}},[t._v("绑定手机号")]):t._e(),1==t.phoneIsBind?e("span",{attrs:{id:"ctl00_ContentPlaceHolder1_lblEmail"}},[t._v("已绑定, ")]):t._e(),1==t.phoneIsBind?e("el-button",{attrs:{type:"text"},on:{click:t.unbindPhone}},[t._v("解绑")]):t._e(),e("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.bindPhone}})],1)]),e("div",{staticClass:"items",attrs:{id:"ctl00_ContentPlaceHolder1_lkPasswordBox"}},[e("b",[t._v("密码")]),e("el-button",{attrs:{type:"text"},on:{click:t.changePassword}},[t._v("修改密码")])],1),e("div",{staticClass:"items",staticStyle:{"margin-top":"10px"}}),e("div",{staticStyle:{clear:"both"}})])]),e("corperation"),e("div",[e("img",{staticClass:"moon hvr-grow-shadow",staticStyle:{height:"auto","object-fit":"contain",width:"120px"},attrs:{src:s(8327),alt:"Avatar"},on:{click:t.clickfunction}})])],1)},a=[],n=(s(2210),s(4227)),r=s.n(n),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-company-box pull-right inherited-styles-for-exported-element",attrs:{id:"ctl00_ContentPlaceHolder1_divCorp"}},[e("div",{staticClass:"title"},[t._v(" 企业信息 ")]),e("div",{staticClass:"content hvr-grow-shadow",staticStyle:{height:"328px"}},[e("div",{staticClass:"items"},[e("b",[t._v("公司名称")]),e("span",{staticStyle:{color:"#262626","line-height":"20px"}},[0==t.isCorpBind?e("el-link",{staticClass:"wjx_alink",attrs:{id:"ctl00_ContentPlaceHolder1_lkEnterpriseName"},on:{click:function(e){return t.bindName()}}},[t._v("请输入")]):t._e(),1==t.isCorpBind?e("el-link",{attrs:{target:"_blank",icon:"el-icon-edit"},on:{click:t.bindName}}):t._e(),1==t.isCorpBind?e("b",{attrs:{id:"inline-text"}},[t._v(t._s(t.corperationName))]):t._e()],1)]),t._m(0),e("div",{staticClass:"items"},[e("b",{staticClass:"vam"},[e("span",{staticClass:"vam"},[t._v("自定义域名")]),e("el-link",{attrs:{href:"https://www.wjx.cn/help/help.aspx?helpid=62&h=1",target:"_blank",icon:"el-icon-question"}})],1),e("el-link",{staticClass:"wjx_alink",attrs:{id:"ctl00_ContentPlaceHolder1_lkEnterpriseName"},on:{click:function(e){return t.open()}}},[t._v("设置域名")])],1),e("img",{staticClass:"man",staticStyle:{height:"auto","object-fit":"contain",width:"120px"},attrs:{src:s(4256),alt:"Avatar"}})])])},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"items clearfix"},[e("b",{staticClass:"fl",staticStyle:{"margin-top":"4px"}},[t._v("企业logo")]),e("a",{staticClass:"icon_vip",attrs:{target:"_blank",href:"https://www.wjx.cn/register/upgradevip.aspx"}})])}],c={name:"company",data(){return{corperationName:null,isCorpBind:!1,address:null,addressIsBind:!1,phoneIsBind:!1,phone:null,userKey:114514,sign:"还没有签名捏",userName:this.$store.state.curUsername,userId:this.$store.state.curUserID,avatarUrl:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F202005%2F10%2F20200510010150_2zSAt.thumb.1000_0.jpeg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1687439195&t=d763d2921c0bd1ae6f6629ed0afcdd65"}},methods:{uploadData(t){console.log("data to be upload is: "+JSON.stringify(t)),this.$api.userInfo.postUserInfo_ChangeUserInfo(JSON.stringify(t)).then((t=>{console.log("response data is: "+JSON.stringify(t.data)),0==t.data.errno&&console.log("上传用户信息成功")})).catch((t=>{alert("上传用户信息失败"),console.log(t)}))},bindName(){this.$prompt("请输入企业名","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:t})=>{this.$message({type:"success",message:"你的企业名是: "+t}),this.isCorpBind=!0,this.corperationName=t;const e={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,signature:this.sign,email:this.address,tel:this.phone,company:this.corperationName};this.uploadData(e)})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},open(){this.$alert("设置不了一点","Warning",{confirmButtonText:"确定",callback:t=>{this.$message({type:"info",message:"下次再来试试吧"})}})},mounted:function(){console.log("mounted begins");const t={uid:this.$store.state.curUserID};this.$api.userInfo.getUserInfo_GetUserInfo(this.$store.state.curUserID).then((e=>{if(console.log(t),console.log(e.data),0==e.data.errno){console.log("获取用户信息成功"),console.log(e.data.user_info);const t=JSON.parse(e.data.user_info);this.userId=t.user_id,this.userName=t.user_name,this.userKey=t.user_password,this.address=t.user_email,this.phone=t.user_tel,this.sign=t.user_signature,null==this.sign&&(this.sign="还没有签名捏"),null!=this.address&&(this.addressIsBind=!0),null!=this.phone&&(this.phoneIsBind=!0)}})).catch((t=>{alert("获取用户信息失败"),console.log(t)}))}}},h=c,d=s(1001),u=(0,d.Z)(h,o,l,!1,null,"3a6edbf0",null),p=u.exports,f={methods:{clickfunction(){window.open("https://xenonga.github.io/")},uploadData(t){console.log(t),this.$api.userInfo.postUserInfo_ChangeUserInfo(t).then((t=>{console.log(t.data),0==t.data.errno&&console.log("上传用户信息成功")})).catch((t=>{alert("上传用户信息失败"),console.log(t)}))},async bindAddress(){this.$prompt("请输入邮箱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then((({value:t})=>{const e={email:t};var s=t;this.$api.userInfo.postUserInfo_SendVeri(e).then((t=>{0==t.data.errno?(this.$message({type:"success",message:"验证码发送成功，请查收"}),this.$prompt("请输入验证码","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:e})=>{if(console.log("value2:jsontring"+JSON.stringify(e)),console.log("value2:"+e),console.log("res.data.code"+t.data.code),e==t.data.code){this.$message({type:"success",message:"验证码验证成功，你的邮箱是: "+s}),this.addressIsBind=!0,this.address=s;const t={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,signature:this.sign,email:this.address,tel:this.phone};this.uploadData(t)}else this.$message({type:"error",message:"验证码错误"})})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))):this.$message({type:"error",message:"验证码发送失败"})}))})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},async unbindAddress(){this.$confirm("此操作将解绑邮箱, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"解绑成功!"}),this.address=null,this.addressIsBind=!1;const t={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,signature:this.sign,email:this.address,tel:this.phone};this.uploadData(t)})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},async bindPhone(){this.$prompt("请输入手机号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^1[3456789]\d{9}$/,inputErrorMessage:"手机号格式不正确"}).then((({value:t})=>{this.$message({type:"success",message:"你的手机号是: "+t}),this.phoneIsBind=!0,this.phone=t;const e={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,signature:this.sign,email:this.address,tel:this.phone};this.uploadData(e)})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},async unbindPhone(){this.$confirm("此操作将解绑手机号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"解绑成功!"}),this.phone=null,this.phoneIsBind=!1;const t={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,signature:this.sign,email:this.address,tel:this.phone};this.uploadData(t)})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},changeSign(){this.$prompt("请输入新的签名","提示",{inputValue:this.sign,confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:t})=>{this.$message({type:"success",message:"签名设置成功 "}),this.sign=t;const e={uid:this.userId,username:this.userName,password1:this.userKey,password2:this.userKey,signature:this.sign,email:this.address,tel:this.phone};this.uploadData(e)})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},async handleAvatarUpload(t){const e=t.target.files[0],s={quality:.4,success:t=>{this.avatar=t}};await new(r())(e,s);const i={data:this.avatar};this.$api.userInfo.postUserInfo_upload_avatar(i).then((t=>{console.log(t)}))},editUserInfo(){},changePassword(){this.$prompt("请输入新密码","修改密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入新密码",inputType:"password"}).then((({value:t})=>{this.$prompt("请再次输入新密码","确定密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请再次输入新密码",inputType:"password",inputValidator:e=>e===t||"两次输入的密码不一致"}).then((({value:t})=>{this.$message({type:"success",message:"密码修改成功"});const e={uid:this.userId,username:this.userName,password1:t,password2:t,signature:this.sign,email:this.address,tel:this.phone};this.uploadData(e)})).catch((()=>{this.$message({type:"info",message:"取消修改密码"})}))})).catch((()=>{this.$message({type:"info",message:"取消修改密码"})}))}},data(){return{address:null,addressIsBind:!1,phoneIsBind:!1,phone:null,avatar:"",userKey:114514,sign:"还没有签名捏",userName:this.$store.state.curUsername,userId:this.$store.state.curUserID,avatarUrl:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F202005%2F10%2F20200510010150_2zSAt.thumb.1000_0.jpeg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1687439195&t=d763d2921c0bd1ae6f6629ed0afcdd65"}},components:{corperation:p},mounted:function(){const t={uid:this.$store.state.curUserID};this.$api.userInfo.getUserInfo_GetUserInfo(this.$store.state.curUserID).then((e=>{if(console.log(t),console.log(e.data),0==e.data.errno){console.log("获取用户信息成功"),console.log(e.data.user_info);const t=JSON.parse(e.data.user_info);this.userId=t.user_id,this.userName=t.user_name,this.userKey=t.user_password,this.address=t.user_email,this.phone=t.user_tel,this.sign=t.user_signature,this.company=t.user_company,null==this.sign&&(this.sign="还没有签名捏"),null!=this.address&&(this.addressIsBind=!0),null!=this.phone&&(this.phoneIsBind=!0)}})).catch((t=>{alert("获取用户信息失败"),console.log(t)}))}},m=f,g=(0,d.Z)(m,i,a,!1,null,"d64f8808",null),v=g.exports},4227:function(t,e,s){s(7658),s(1439),s(7585),s(5315),s(2801),
/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */
function(e,s){t.exports=s()}(0,(function(){"use strict";function t(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function e(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,l(i.key),i)}}function a(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t,e,s){return e=l(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},r.apply(this,arguments)}function o(t,e){if("object"!==typeof t||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(t){var e=o(t,"string");return"symbol"===typeof e?e:String(e)}var c={exports:{}};(function(t){"undefined"!==typeof window&&function(e){var s=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,i=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),a=i&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,r=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(i||n)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,s,o,l,c,h,d,u,p;if(e=t.match(r),!e)throw new Error("invalid data URI");for(s=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),o=!!e[4],l=t.slice(e[0].length),c=o?atob(l):decodeURIComponent(l),h=new ArrayBuffer(c.length),d=new Uint8Array(h),u=0;u<c.length;u+=1)d[u]=c.charCodeAt(u);return i?new Blob([a?d:h],{type:s}):(p=new n,p.append(h),p.getBlob(s))};e.HTMLCanvasElement&&!s.toBlob&&(s.mozGetAsFile?s.toBlob=function(t,e,i){var a=this;setTimeout((function(){i&&s.toDataURL&&o?t(o(a.toDataURL(e,i))):t(a.mozGetAsFile("blob",e))}))}:s.toDataURL&&o&&(s.msToBlob?s.toBlob=function(t,e,i){var a=this;setTimeout((function(){(e&&"image/png"!==e||i)&&s.toDataURL&&o?t(o(a.toDataURL(e,i))):t(a.msToBlob(e))}))}:s.toBlob=function(t,e,s){var i=this;setTimeout((function(){t(o(i.toDataURL(e,s)))}))})),t.exports?t.exports=o:e.dataURLtoBlob=o}(window)})(c);var h=c.exports,d=function(t){return"undefined"!==typeof Blob&&(t instanceof Blob||"[object Blob]"===Object.prototype.toString.call(t))},u={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},p="undefined"!==typeof window&&"undefined"!==typeof window.document,f=p?window:{},m=function(t){return t>0&&t<1/0},g=Array.prototype.slice;function v(t){return Array.from?Array.from(t):g.call(t)}var b=/^image\/.+$/;function y(t){return b.test(t)}function w(t){var e=y(t)?t.substr(6):"";return"jpeg"===e&&(e="jpg"),".".concat(e)}var _=String.fromCharCode;function x(t,e,s){var i,a="";for(s+=e,i=e;i<s;i+=1)a+=_(t.getUint8(i));return a}var B=f.btoa;function C(t,e){var s=[],i=8192,a=new Uint8Array(t);while(a.length>0)s.push(_.apply(null,v(a.subarray(0,i)))),a=a.subarray(i);return"data:".concat(e,";base64,").concat(B(s.join("")))}function I(t){var e,s=new DataView(t);try{var i,a,n;if(255===s.getUint8(0)&&216===s.getUint8(1)){var r=s.byteLength,o=2;while(o+1<r){if(255===s.getUint8(o)&&225===s.getUint8(o+1)){a=o;break}o+=1}}if(a){var l=a+4,c=a+10;if("Exif"===x(s,l,4)){var h=s.getUint16(c);if(i=18761===h,(i||19789===h)&&42===s.getUint16(c+2,i)){var d=s.getUint32(c+4,i);d>=8&&(n=c+d)}}}if(n){var u,p,f=s.getUint16(n,i);for(p=0;p<f;p+=1)if(u=n+12*p+2,274===s.getUint16(u,i)){u+=8,e=s.getUint16(u,i),s.setUint16(u,1,i);break}}}catch(m){e=1}return e}function U(t){var e=0,s=1,i=1;switch(t){case 2:s=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,s=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:s,scaleY:i}}var k=/\.\d*(?:0|9){12}\d*$/;function $(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return k.test(t)?Math.round(t*e)/e:t}function T(t){var e=t.aspectRatio,s=t.height,i=t.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",n=m(i),r=m(s);if(n&&r){var o=s*e;("contain"===a||"none"===a)&&o>i||"cover"===a&&o<i?s=i/e:i=s*e}else n?s=i/e:r&&(i=s*e);return{width:i,height:s}}function P(t){var e=v(new Uint8Array(t)),s=e.length,i=[],a=0;while(a+3<s){var n=e[a],r=e[a+1];if(255===n&&218===r)break;if(255===n&&216===r)a+=2;else{var o=256*e[a+2]+e[a+3],l=a+o+2,c=e.slice(a,l);i.push(c),a=l}}return i.reduce((function(t,e){return 255===e[0]&&225===e[1]?t.concat(e):t}),[])}function A(t,e){var s=v(new Uint8Array(t));if(255!==s[2]||224!==s[3])return t;var i=256*s[4]+s[5],a=[255,216].concat(e,s.slice(4+i));return new Uint8Array(a)}var j=f.ArrayBuffer,O=f.FileReader,S=f.URL||f.webkitURL,D=/\.\w+$/,E=f.Compressor,F=function(){function t(i,a){s(this,t),this.file=i,this.exif=[],this.image=new Image,this.options=e(e({},u),a),this.aborted=!1,this.result=null,this.init()}return a(t,[{key:"init",value:function(){var t=this,e=this.file,s=this.options;if(d(e)){var i=e.type;if(y(i))if(S&&O){j||(s.checkOrientation=!1,s.retainExif=!1);var a="image/jpeg"===i,n=a&&s.checkOrientation,o=a&&s.retainExif;if(!S||n||o){var l=new O;this.reader=l,l.onload=function(s){var a=s.target,l=a.result,c={},h=1;n&&(h=I(l),h>1&&r(c,U(h))),o&&(t.exif=P(l)),c.url=n||o?!S||h>1?C(l,i):S.createObjectURL(e):l,t.load(c)},l.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},l.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},l.onloadend=function(){t.reader=null},n||o?l.readAsArrayBuffer(e):l.readAsDataURL(e)}else this.load({url:S.createObjectURL(e)})}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var s=this,i=this.file,a=this.image;a.onload=function(){s.draw(e(e({},t),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){s.fail(new Error("Aborted to load the image."))},a.onerror=function(){s.fail(new Error("Failed to load the image."))},f.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(f.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=i.name,a.src=t.url}},{key:"draw",value:function(t){var e=this,s=t.naturalWidth,i=t.naturalHeight,a=t.rotate,n=void 0===a?0:a,r=t.scaleX,o=void 0===r?1:r,l=t.scaleY,c=void 0===l?1:l,d=this.file,u=this.image,p=this.options,f=document.createElement("canvas"),g=f.getContext("2d"),v=Math.abs(n)%180===90,b=("contain"===p.resize||"cover"===p.resize)&&m(p.width)&&m(p.height),w=Math.max(p.maxWidth,0)||1/0,_=Math.max(p.maxHeight,0)||1/0,x=Math.max(p.minWidth,0)||0,B=Math.max(p.minHeight,0)||0,I=s/i,U=p.width,k=p.height;if(v){var P=[_,w];w=P[0],_=P[1];var j=[B,x];x=j[0],B=j[1];var S=[k,U];U=S[0],k=S[1]}b&&(I=U/k);var D=T({aspectRatio:I,width:w,height:_},"contain");w=D.width,_=D.height;var E=T({aspectRatio:I,width:x,height:B},"cover");if(x=E.width,B=E.height,b){var F=T({aspectRatio:I,width:U,height:k},p.resize);U=F.width,k=F.height}else{var N=T({aspectRatio:I,width:U,height:k}),H=N.width;U=void 0===H?s:H;var R=N.height;k=void 0===R?i:R}U=Math.floor($(Math.min(Math.max(U,x),w))),k=Math.floor($(Math.min(Math.max(k,B),_)));var M=-U/2,L=-k/2,z=U,K=k,W=[];if(b){var q=0,J=0,G=s,V=i,X=T({aspectRatio:I,width:s,height:i},{contain:"cover",cover:"contain"}[p.resize]);G=X.width,V=X.height,q=(s-G)/2,J=(i-V)/2,W.push(q,J,G,V)}if(W.push(M,L,z,K),v){var Y=[k,U];U=Y[0],k=Y[1]}f.width=U,f.height=k,y(p.mimeType)||(p.mimeType=d.type);var Z="transparent";d.size>p.convertSize&&p.convertTypes.indexOf(p.mimeType)>=0&&(p.mimeType="image/jpeg");var Q="image/jpeg"===p.mimeType;if(Q&&(Z="#fff"),g.fillStyle=Z,g.fillRect(0,0,U,k),p.beforeDraw&&p.beforeDraw.call(this,g,f),!this.aborted&&(g.save(),g.translate(U/2,k/2),g.rotate(n*Math.PI/180),g.scale(o,c),g.drawImage.apply(g,[u].concat(W)),g.restore(),p.drew&&p.drew.call(this,g,f),!this.aborted)){var tt=function(t){if(!e.aborted){var a=function(t){return e.done({naturalWidth:s,naturalHeight:i,result:t})};if(t&&Q&&p.retainExif&&e.exif&&e.exif.length>0){var n=function(t){return a(h(C(A(t,e.exif),p.mimeType)))};if(t.arrayBuffer)t.arrayBuffer().then(n).catch((function(){e.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))}));else{var r=new O;e.reader=r,r.onload=function(t){var e=t.target;n(e.result)},r.onabort=function(){e.fail(new Error("Aborted to read the compressed image with FileReader."))},r.onerror=function(){e.fail(new Error("Failed to read the compressed image with FileReader."))},r.onloadend=function(){e.reader=null},r.readAsArrayBuffer(t)}}else a(t)}};f.toBlob?f.toBlob(tt,p.mimeType,p.quality):tt(h(f.toDataURL(p.mimeType,p.quality)))}}},{key:"done",value:function(t){var e=t.naturalWidth,s=t.naturalHeight,i=t.result,a=this.file,n=this.image,r=this.options;if(S&&0===n.src.indexOf("blob:")&&S.revokeObjectURL(n.src),i)if(r.strict&&!r.retainExif&&i.size>a.size&&r.mimeType===a.type&&!(r.width>e||r.height>s||r.minWidth>e||r.minHeight>s||r.maxWidth<e||r.maxHeight<s))i=a;else{var o=new Date;i.lastModified=o.getTime(),i.lastModifiedDate=o,i.name=a.name,i.name&&i.type!==a.type&&(i.name=i.name.replace(D,w(i.type)))}else i=a;this.result=i,r.success&&r.success.call(this,i)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=E,t}},{key:"setDefaults",value:function(t){r(u,t)}}]),t}();return F}))},4256:function(t,e,s){"use strict";t.exports=s.p+"img/man - 副本.277174a3.png"},8327:function(t,e,s){"use strict";t.exports=s.p+"img/planet4 - 副本.2e1354a5.png"}}]);
//# sourceMappingURL=714.37850e7d.js.map